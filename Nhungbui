<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ch√∫c m·ª´ng Nhung 20/10</title>
  <style>
    :root{
      --flower-zone-height: 55vh; /* v√πng hoa b·∫Øt ƒë·∫ßu t·ª´ bottom (chi·ªÅu cao t√≠nh t·ª´ ƒë√°y) */
    }
    * { box-sizing: border-box; }
    html,body{
      height:100%;
      margin:0;
      background: radial-gradient(circle at center, #000, #050505 75%);
      font-family: "Poppins", system-ui, sans-serif;
      overflow:hidden;
    }

    /* ch·ªØ ·ªü tr√™n c√πng, lu√¥n hi·ªÉn th·ªã r√µ */
    .message {
      position: absolute;
      top: 6%;                /* v·ªã tr√≠ ch·ªØ - ·ªü tr√™n c√πng */
      left: 50%;
      transform: translateX(-50%);
      z-index: 2000;          /* ch·∫Øc ch·∫Øn n·∫±m tr√™n hoa */
      color: #ff86c1;
      font-size: clamp(20px, 3.4vw, 36px);
      text-align: center;
      text-shadow: 0 6px 30px rgba(255,102,178,0.18), 0 0 8px rgba(255,86,152,0.08);
      pointer-events: none;   /* ch·ªØ kh√¥ng b·ªã ch·∫∑n */
      padding: 6px 14px;
      border-radius: 10px;
      backdrop-filter: blur(4px) saturate(1.1);
      -webkit-backdrop-filter: blur(4px) saturate(1.1);
    }

    /* v√πng ch·ª©a hoa: to√†n b·ªô body nh∆∞ng hoa ch·ªâ xu·∫•t hi·ªán trong ph·∫ßn d∆∞·ªõi */
    .flowers-area {
      position:absolute;
      left:0; right:0;
      bottom:0;
      height: var(--flower-zone-height); /* cao c·ªßa v√πng hoa t·ª´ ƒë√°y */
      pointer-events: none;  /* hoa kh√¥ng ch·∫∑n click */
      z-index: 50;
    }

    /* m·ªói c√¢y (container) */
    .flower {
      position: absolute;
      bottom: 0;
      display: flex;
      align-items: flex-end;
      justify-content: center;
      width: 0; /* width kh√¥ng quan tr·ªçng, ch√∫ng ta d√πng left */
      pointer-events: none;
    }

    /* th√¢n */
    .stem {
      width: 5px;
      height: 0;
      background: linear-gradient(to top, #083c09, #1fb42b);
      border-radius: 3px;
      transform-origin: bottom center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.6);
      z-index: 60;
    }

    /* animation th√¢n m·ªçc */
    @keyframes stemGrow {
      0% { height: 0; }
      80% { height: var(--stem-final); } /* set inline */
      100% { height: calc(var(--stem-final)); }
    }

    /* l√° */
    .leaf {
      position: absolute;
      width: 28px;
      height: 14px;
      background: linear-gradient(180deg,#26b94e,#0d7b1f);
      border-radius: 50%;
      opacity: 0;
      transform-origin: center;
      z-index: 55;
    }

    .leaf.left { transform: rotate(-40deg); left: -20px; }
    .leaf.right { transform: rotate(40deg); right: -20px; }

    @keyframes leafGrow {
      0% { opacity: 0; transform: scale(0.6) rotate(var(--rot)); }
      100% { opacity: 1; transform: scale(1) rotate(var(--rot)); }
    }

    /* ph·∫ßn ƒë·∫ßu hoa (n·ªü) */
    .flower-top {
      position: absolute;
      bottom: calc(var(--stem-final) + 6px); /* n·∫±m tr√™n ƒë·ªânh th√¢n */
      left: 50%;
      transform: translateX(-50%) scale(0.6);
      width: 64px;
      height: 64px;
      pointer-events: none;
      z-index: 70;
      filter: drop-shadow(0 8px 24px rgba(255,77,166,0.12));
    }

    .petal {
      position: absolute;
      width: 22px;
      height: 40px;
      background: radial-gradient(circle at 30% 30%, #ff85b2, #c9005f 70%);
      border-radius: 50% 50% 40% 40%;
      left: 50%;
      top: 50%;
      transform-origin: center bottom;
      opacity: 0;
    }

    /* c√°nh ƒë·∫∑t theo g√≥c */
    .petal.p1 { transform: rotate(0deg) translate(-50%, -20px);  animation-delay: 0s; }
    .petal.p2 { transform: rotate(72deg) translate(-50%, -20px); animation-delay: 0.12s;}
    .petal.p3 { transform: rotate(144deg) translate(-50%, -20px); animation-delay: 0.24s;}
    .petal.p4 { transform: rotate(216deg) translate(-50%, -20px); animation-delay: 0.36s;}
    .petal.p5 { transform: rotate(288deg) translate(-50%, -20px); animation-delay: 0.48s;}

    @keyframes petalBloom {
      0% { opacity: 0; transform: translateY(10px) scale(0.6) rotate(var(--rot)); }
      70% { opacity: 1; transform: translateY(-8px) scale(1.05) rotate(var(--rot)); }
      100% { opacity: 1; transform: translateY(-12px) scale(1) rotate(var(--rot)); }
    }

    .center {
      position: absolute;
      width: 18px;
      height: 18px;
      left: 50%;
      top: 50%;
      transform: translate(-50%,-50%);
      background: radial-gradient(circle at 30% 30%, #fff88a, #f7a800 80%);
      border-radius: 50%;
      opacity: 0;
      box-shadow: 0 0 18px rgba(255,186,0,0.2);
      z-index: 80;
      animation: centerShow 0.6s 0.6s forwards;
    }
    @keyframes centerShow { to { opacity: 1; } }

    /* ƒëi·ªÅu ch·ªânh khi c·ª≠a s·ªï thay ƒë·ªïi */
    @media (max-width:600px){
      .flower-top { width:50px; height:50px; }
      .petal { width:18px; height:34px; }
      .message { font-size:18px; top:7%; }
    }

  </style>
</head>
<body>
  <!-- ch·ªØ lu√¥n n·∫±m tr√™n -->
  <div class="message">üíê Ch√∫c m·ª´ng Nhung 20/10 vui v·∫ª üíê</div>

  <!-- v√πng hoa: hoa ch·ªâ xu·∫•t hi·ªán trong v√πng n√†y (t·ª´ ƒë√°y l√™n) -->
  <div class="flowers-area" id="flowersArea"></div>

  <script>
    /* T·∫°o nhi·ªÅu c√¢y hoa nh∆∞ng gi·ªõi h·∫°n chi·ªÅu cao sao cho kh√¥ng ch·∫°m v√πng ch·ªØ */
    const area = document.getElementById('flowersArea');
    const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);
    const zoneHeight = Math.max(window.innerHeight * 0.55, 360); // match CSS var

    // s·ªë c√¢y (t√πy ch·ªânh)
    const COUNT = 9;

    for(let i=0;i<COUNT;i++){
      createFlower(i);
    }

    function createFlower(index){
      // gi·ªØ l·ªÅ ƒë·ªÉ hoa kh√¥ng qu√° s√°t m√©p
      const margin = 6;
      const left = Math.round(margin + Math.random() * (vw - margin*2));
      const delay = (Math.random()*2.2); // delay tr∆∞·ªõc khi th√¢n b·∫Øt ƒë·∫ßu
      const stemFinal = Math.round(80 + Math.random()*110); // chi·ªÅu cao th√¢n (px), ƒë·∫£m b·∫£o < zoneHeight

      const wrapper = document.createElement('div');
      wrapper.className = 'flower';
      wrapper.style.left = left + 'px';
      wrapper.style.setProperty('--stem-final', stemFinal + 'px');
      wrapper.style.animationDelay = delay + 's';

      // th√¢n
      const stem = document.createElement('div');
      stem.className = 'stem';
      // ch·∫°y animation sau delay
      stem.style.animation = `stemGrow 2.6s ease-out ${delay}s forwards`;
      stem.style.height = '0px'; // b·∫Øt ƒë·∫ßu 0, animation tƒÉng l√™n

      // l√° tr√°i
      const leafL = document.createElement('div');
      leafL.className = 'leaf left';
      leafL.style.top = (stemFinal*0.45) + 'px';
      leafL.style.animation = `leafGrow 0.9s ease-out ${delay + 1.2}s forwards`;
      leafL.style.setProperty('--rot','rotate(-40deg)');

      // l√° ph·∫£i
      const leafR = document.createElement('div');
      leafR.className = 'leaf right';
      leafR.style.top = (stemFinal*0.65) + 'px';
      leafR.style.animation = `leafGrow 0.9s ease-out ${delay + 1.6}s forwards`;
      leafR.style.setProperty('--rot','rotate(40deg)');

      // ƒë·∫ßu hoa (n·ªü) - ƒë·∫∑t tr√™n ƒë·ªânh th√¢n
      const top = document.createElement('div');
      top.className = 'flower-top';
      top.style.bottom = (stemFinal + 6) + 'px';

      // t·∫°o 5 c√°nh
      for(let p=1;p<=5;p++){
        const petal = document.createElement('div');
        petal.className = 'petal p' + p;
        // g√≥c xoay cho animation (d√πng ƒë·ªÉ gi·ªØ tr·ª±c quan)
        const rot = (p-1)*72 + 'deg';
        petal.style.setProperty('--rot', rot);
        // th√™m animation bloom v·ªõi delay r·∫£i ƒë·ªÅu
        const petalDelay = delay + 1.8 + p*0.12;
        petal.style.animation = `petalBloom 0.9s ease-out ${petalDelay}s forwards`;
        top.appendChild(petal);
      }

      // tim gi·ªØa
      const center = document.createElement('div');
      center.className = 'center';
      center.style.animationDelay = (delay + 2.6) + 's';

      // l·∫Øp r√°p
      wrapper.appendChild(stem);
      wrapper.appendChild(leafL);
      wrapper.appendChild(leafR);
      wrapper.appendChild(top);
      top.appendChild(center);

      area.appendChild(wrapper);
    }

    // x·ª≠ l√Ω khi resize ƒë·ªÉ t·∫°o tr·∫£i nghi·ªám t·ªët h∆°n (n·∫øu c·∫ßn reload layout)
    window.addEventListener('resize', () => {
      // kh√¥ng recreate ƒë·ªÉ tr√°nh ph·ª©c t·∫°p; n·∫øu mu·ªën, c√≥ th·ªÉ reload trang
    });
  </script>
</body>
</html>
