<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ch√∫c m·ª´ng Nhung 20/10</title>
<style>
  :root {
    --flower-zone: 55vh; /* v√πng hoa t·ª´ ƒë√°y l√™n */
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;background:#000;overflow:hidden;font-family:"Poppins",system-ui,-apple-system,Segoe UI,Roboto;}

  /* CH·ªÆ - LU√îN TR√äN C√ôNG */
  .message{
    position:fixed;
    top:4%;
    left:50%;
    transform:translateX(-50%);
    z-index:9999;               /* R·∫§T CAO ƒë·ªÉ lu√¥n tr√™n c√πng */
    color:#ff86c1;
    font-size:clamp(18px,3.2vw,34px);
    text-align:center;
    text-shadow:0 6px 30px rgba(255,102,178,0.18),0 0 8px rgba(255,86,152,0.08);
    background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    padding:8px 14px;
    border-radius:8px;
    pointer-events:none;
    backdrop-filter: blur(4px) saturate(1.05);
    -webkit-backdrop-filter: blur(4px) saturate(1.05);
  }

  /* v√πng hoa (ch·ªâ chi·∫øm ph·∫ßn d∆∞·ªõi m√†n h√¨nh) */
  .flowers-area{
    position:fixed;
    left:0; right:0; bottom:0;
    height:var(--flower-zone);
    z-index:50;                 /* th·∫•p h∆°n .message */
    pointer-events:none;
    overflow:visible;
  }

  /* t·ª´ng c√¢y */
  .flower{
    position:absolute;
    bottom:0;
    transform:translateX(-50%);
    width:1px; /* kh√¥ng chi·∫øm kh√¥ng gian */
    pointer-events:none;
  }

  /* th√¢n */
  .stem{
    width:5px;
    height:0;
    background: linear-gradient(to top,#07360a,#1fb42b);
    border-radius:3px;
    transform-origin:bottom center;
    box-shadow:0 2px 10px rgba(0,0,0,0.6);
    z-index:60;
  }

  /* animation th√¢n: d√πng bi·∫øn --stem-final ƒë∆∞·ª£c set inline */
  @keyframes stemGrow {
    0% { height: 0px; }
    80% { height: calc(var(--stem-final) * 1); }
    100% { height: calc(var(--stem-final) * 1); }
  }

  /* l√° */
  .leaf{
    position:absolute;
    width:30px;
    height:14px;
    background: linear-gradient(180deg,#28c24c,#0d7b1f);
    border-radius:50%;
    opacity:0;
    z-index:58;
    transform-origin:center;
  }
  .leaf.left{ left: -22px; transform: rotate(-42deg); }
  .leaf.right{ right: -22px; transform: rotate(42deg); }

  @keyframes leafGrow {
    0% { opacity:0; transform:scale(0.6) rotate(var(--rot)); }
    100% { opacity:1; transform:scale(1) rotate(var(--rot)); }
  }

  /* ph·∫ßn ƒë·∫ßu hoa */
  .flower-top{
    position:absolute;
    left:50%;
    transform:translateX(-50%) scale(0.8);
    width:64px;
    height:64px;
    z-index:70;
    pointer-events:none;
    filter: drop-shadow(0 10px 24px rgba(255,77,166,0.12));
  }

  .petal{
    position:absolute;
    width:24px;
    height:40px;
    background: radial-gradient(circle at 30% 30%, #ff85b2, #c9005f 70%);
    border-radius:50% 50% 40% 40%;
    left:50%;
    top:50%;
    transform-origin:center bottom;
    opacity:0;
  }
  .petal.p1{ transform: rotate(0deg) translate(-50%,-20px); }
  .petal.p2{ transform: rotate(72deg) translate(-50%,-20px); }
  .petal.p3{ transform: rotate(144deg) translate(-50%,-20px); }
  .petal.p4{ transform: rotate(216deg) translate(-50%,-20px); }
  .petal.p5{ transform: rotate(288deg) translate(-50%,-20px); }

  @keyframes petalBloom {
    0% { opacity:0; transform: translateY(8px) scale(0.6) rotate(var(--rot)); }
    70% { opacity:1; transform: translateY(-6px) scale(1.05) rotate(var(--rot)); }
    100% { opacity:1; transform: translateY(-12px) scale(1) rotate(var(--rot)); }
  }

  .center{
    position:absolute;
    width:18px;height:18px;
    left:50%; top:50%;
    transform:translate(-50%,-50%);
    background: radial-gradient(circle at 30% 30%, #fff88a,#f7a800 80%);
    border-radius:50%;
    opacity:0;
    z-index:75;
    box-shadow:0 0 16px rgba(247,168,0,0.12);
  }
  @keyframes centerShow { to { opacity:1; } }

  /* responsive */
  @media (max-width:600px){
    .flower-top{ width:48px;height:48px; }
    .petal{ width:18px;height:34px; }
    .message{ font-size:18px; top:6%; }
  }
</style>
</head>
<body>
  <div class="message">üíê Ch√∫c m·ª´ng Nhung 20/10 vui v·∫ª üíê</div>

  <div class="flowers-area" id="flowersArea"></div>

<script>
  const area = document.getElementById('flowersArea');
  const COUNT = 9; // s·ªë c√¢y
  const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);
  // chia ƒë·ªÅu v·ªã tr√≠ ƒë·ªÉ tr√°nh ch·ªìng ch√©o
  for(let i=0;i<COUNT;i++){
    const pct = (i+1) / (COUNT+1) * 100; // 10%,20%... ƒë·∫£m b·∫£o r·∫£i ƒë·ªÅu
    createFlowerAtPercent(pct, i*0.4 + Math.random()*0.8);
  }

  function createFlowerAtPercent(percentLeft, delay) {
    // chi·ªÅu cao th√¢n (gi·ªØ d∆∞·ªõi gi·ªõi h·∫°n v√πng hoa)
    const minStem = 90, maxStem = Math.min(220, Math.round(window.innerHeight * 0.45));
    const stemFinal = Math.round(minStem + Math.random()*(maxStem - minStem));

    const wrapper = document.createElement('div');
    wrapper.className = 'flower';
    wrapper.style.left = percentLeft + '%';
    wrapper.style.setProperty('--stem-final', stemFinal + 'px');

    // th√¢n
    const stem = document.createElement('div');
    stem.className = 'stem';
    // g√°n animation v·ªõi delay c·ª• th·ªÉ
    stem.style.animation = `stemGrow 2.6s ease-out ${delay}s forwards`;
    wrapper.appendChild(stem);

    // l√° tr√°i
    const leafL = document.createElement('div');
    leafL.className = 'leaf left';
    leafL.style.top = (stemFinal*0.42) + 'px';
    leafL.style.setProperty('--rot','rotate(-42deg)');
    leafL.style.animation = `leafGrow 0.9s ease-out ${delay + 1.2}s forwards`;
    wrapper.appendChild(leafL);

    // l√° ph·∫£i
    const leafR = document.createElement('div');
    leafR.className = 'leaf right';
    leafR.style.top = (stemFinal*0.62) + 'px';
    leafR.style.setProperty('--rot','rotate(42deg)');
    leafR.style.animation = `leafGrow 0.9s ease-out ${delay + 1.6}s forwards`;
    wrapper.appendChild(leafR);

    // ph·∫ßn tr√™n (hoa)
    const top = document.createElement('div');
    top.className = 'flower-top';
    top.style.bottom = (stemFinal + 6) + 'px';

    // t·∫°o c√°nh
    for(let p=1;p<=5;p++){
      const petal = document.createElement('div');
      petal.className = 'petal p' + p;
      const rot = (p-1)*72 + 'deg';
      petal.style.setProperty('--rot', rot);
      // m·ªói c√°nh delay r·∫£i ƒë·ªÉ c√≥ c·∫£m gi√°c n·ªü t·ª´ng l·ªõp
      const petalDelay = delay + 1.8 + p*0.12;
      petal.style.animation = `petalBloom 0.9s ease-out ${petalDelay}s forwards`;
      top.appendChild(petal);
    }

    // t√¢m
    const center = document.createElement('div');
    center.className = 'center';
    center.style.animation = `centerShow 0.6s ${delay + 2.6}s forwards`;
    top.appendChild(center);

    wrapper.appendChild(top);
    area.appendChild(wrapper);
  }

  // n·∫øu resize to nh·ªè/h·∫πp, kh√¥ng recreate ƒë·ªÉ tr√°nh flicker
  window.addEventListener('resize', () => { /* gi·ªØ nguy√™n */ });
</script>
</body>
</html>
